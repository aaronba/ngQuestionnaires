<article class="well well-lg">
  <p class="lead">{{questionnaire.description}}</p>

  <form name="responseForm" novalidate>
    <div class="form-group" validation-class on="respondent">
      <label for="respondent" class="control-label">Respondent</label>
      <input type="text" ng-model="respondent" name="respondent"
             id="respondent" class="form-control" required/>
      <span show-help on="respondent" when="required">Respondent is required</span>
    </div>

    <h3>Questions</h3>
    <ul class="list-unstyled">
      <li ng-repeat="questionId in questionnaire.questions">
        <article ng-controller="questionShowCtrl" ng-form="choiceForm">
          <p class="lead">{{question.text}}</p>

          <ul class="list-unstyled form-group" validation-class>
            <li ng-repeat="choice in question.choices">
              <div class="radio">
                <label class="control-label">
                  <input type="radio" ng-model="$parent.response.choices" value="{{choice.text}}"
                         ng-click="answer(question.id, question.text, choice.text, $index)" required/>
                  {{choice.text}}
                </label>
              </div>
            </li>
          </ul>
          <span show-help when="required">Choice is required</span>

          <hr/>
        </article>
      </li>
    </ul>

    <ul class="list-inline">
      <li>
        <button ng-click="submit()" disabled-when-invalid class="btn btn-primary">Submit</button>
      </li>
      <li>
        <button ui-sref="responseList" class="btn btn-default">Cancel</button>
      </li>
    </ul>
  </form>
</article>